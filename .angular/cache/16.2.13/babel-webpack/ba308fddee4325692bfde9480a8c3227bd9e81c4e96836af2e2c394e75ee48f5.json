{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(cartService, router, route) {\n    this.cartService = cartService;\n    this.router = router;\n    this.route = route;\n    this.books = [];\n    this.cartId = 1;\n    this.bookId = 101;\n  }\n  // ngOnInit(): void {\n  //   this.createCart();\n  // }\n  ngOnInit() {\n    this.router.params.subscribe(params => {\n      this.cartId = +params['id']; // obțineți id-ul coșului de cumpărături din parametrii rutei\n      this.getCartDetails(this.cartId);\n    });\n  }\n  getCartDetails(cartId) {\n    this.cartService.getCartById(cartId).subscribe(cart => {\n      this.cart = cart;\n    });\n  }\n  createCart() {\n    this.cartService.createCart().subscribe(cart => {\n      console.log('Cart created successfully:', cart);\n    }, error => {\n      console.error('Error creating cart:', error);\n    });\n  }\n  addBookToCart() {\n    this.cartService.addBookToCart(this.cartId, this.bookId).subscribe({\n      next: cart => {\n        console.log('Book added to cart', cart);\n        this.router.navigate(['/cart']);\n      },\n      error: error => {\n        console.error('Error adding book to cart', error);\n      }\n    });\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"names":["Component","CartComponent","constructor","cartService","router","route","books","cartId","bookId","ngOnInit","params","subscribe","getCartDetails","getCartById","cart","createCart","console","log","error","addBookToCart","next","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Alina\\Desktop\\library\\src\\app\\components\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Book } from 'src/app/interfaces/book';\nimport { Cart } from 'src/app/interfaces/cart';\nimport { CartService } from 'src/app/services/cart/cart.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})\nexport class CartComponent implements OnInit {\n  books: any[] = [];\n  cartId: number =1;\n  bookId: number =101;\n  \n\n  cart!:Cart;\n  \n\n  constructor(private cartService: CartService, private router: Router, private route: ActivatedRoute,) { }\n\n  // ngOnInit(): void {\n  //   this.createCart();\n    \n  // }\n  ngOnInit(): void {\n    this.router.params.subscribe(params => {\n      this.cartId = +params['id']; // obțineți id-ul coșului de cumpărături din parametrii rutei\n      this.getCartDetails(this.cartId);\n    });\n  }\n\n  getCartDetails(cartId: number): void {\n    this.cartService.getCartById(cartId)\n      .subscribe(cart => {\n        this.cart = cart;\n      });\n  }\n  \n  createCart(): void {\n    this.cartService.createCart().subscribe(\n      (cart: Cart) => {\n        console.log('Cart created successfully:', cart);\n      \n      },\n      error => {\n        console.error('Error creating cart:', error);\n      }\n    );\n  }\n  addBookToCart() {\n    this.cartService.addBookToCart(this.cartId, this.bookId).subscribe({\n      next: (cart) => {\n        console.log('Book added to cart', cart);\n        this.router.navigate(['/cart']);\n        \n      },\n      error: (error) => {\n        console.error('Error adding book to cart', error);\n      }\n    });\n  }\n\n\n\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAWjD,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EASxBC,YAAoBC,WAAwB,EAAUC,MAAc,EAAUC,KAAqB;IAA/E,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,KAAK,GAALA,KAAK;IARnF,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,MAAM,GAAU,CAAC;IACjB,KAAAC,MAAM,GAAU,GAAG;EAMqF;EAExG;EACA;EAEA;EACAC,QAAQA,CAAA;IACN,IAAI,CAACL,MAAM,CAACM,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACpC,IAAI,CAACH,MAAM,GAAG,CAACG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;MAC7B,IAAI,CAACE,cAAc,CAAC,IAAI,CAACL,MAAM,CAAC;IAClC,CAAC,CAAC;EACJ;EAEAK,cAAcA,CAACL,MAAc;IAC3B,IAAI,CAACJ,WAAW,CAACU,WAAW,CAACN,MAAM,CAAC,CACjCI,SAAS,CAACG,IAAI,IAAG;MAChB,IAAI,CAACA,IAAI,GAAGA,IAAI;IAClB,CAAC,CAAC;EACN;EAEAC,UAAUA,CAAA;IACR,IAAI,CAACZ,WAAW,CAACY,UAAU,EAAE,CAACJ,SAAS,CACpCG,IAAU,IAAI;MACbE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEH,IAAI,CAAC;IAEjD,CAAC,EACDI,KAAK,IAAG;MACNF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EACAC,aAAaA,CAAA;IACX,IAAI,CAAChB,WAAW,CAACgB,aAAa,CAAC,IAAI,CAACZ,MAAM,EAAE,IAAI,CAACC,MAAM,CAAC,CAACG,SAAS,CAAC;MACjES,IAAI,EAAGN,IAAI,IAAI;QACbE,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,IAAI,CAAC;QACvC,IAAI,CAACV,MAAM,CAACiB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MAEjC,CAAC;MACDH,KAAK,EAAGA,KAAK,IAAI;QACfF,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;KACD,CAAC;EACJ;CAKD;AAxDYjB,aAAa,GAAAqB,UAAA,EALzBtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWxB,aAAa,CAwDzB;SAxDYA,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}